<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
	<title>GeoIp text</title>
</head>
<body>

<div class="service_native">
	<h1>Native geoLocation</h1>
	<ul>
		<li><strong>위도/경도 :</strong> <span class="geo_location"></span></li>
		<li><strong>도시 :</strong> <span class="city"></span></li>
		<li><strong>주소</strong> <span class="address"></span></li>
	</ul>
	<button class="btn_apply">적용</button>
</div>
<hr>

<script src="//code.jquery.com/jquery-1.12.4.min.js"></script>
<script src="//js.maxmind.com/js/apis/geoip2/v2.1/geoip2.js" type="text/javascript"></script>
<script type="text/javascript">
/**
 * @description : native geolocation
 */
var nativeGeoLocationCallback = {
	onSuccess : function(position){
		$('.service_native .geo_location').text(position.coords.latitude + ' / ' + position.coords.longitude);
	},
	onError : function(error){
		$('body').append(JSON.stringify(error, undefined, 4));
		console.log("Error:\n\n" + JSON.stringify(error, undefined, 4));
	}
}
var getGeoLocation = function(callback){
	navigator.geolocation.getCurrentPosition(callback.onSuccess, callback.onError);
};

/**
 * @description : bind event
 */
$('.service_native .btn_apply').on('click', function(){
	getGeoLocation(nativeGeoLocationCallback);
});
</script>
</body>
</html>